const allInputs=document.querySelectorAll("input"),dialog=document.querySelector("dialog");async function doChirpForm(){const e=await fetch("/administrator/index.php?option=com_chirp&view=controlpanels",{method:"POST"}),t=await e.text();alert(t)}allInputs.forEach((e=>{e.addEventListener("change",(()=>{doChirpSaveConfig()}))})),doChirpSaveConfig=async()=>{const e=document.querySelectorAll('[name^="config["]');dialog.showModal();let t={};e.forEach((e=>{if(e.multiple){let o=[];[...e.children].forEach((e=>{e.selected&&o.push(e.value)})),t[e.id.split("config_")[1]]=o}else!0===e.checked?t[e.id.split("config_")[1].slice(0,-1)]=e.value:!1===e.checked||(t[e.id.split("config_")[1]]=e.value)}));const o={data:t},c=await fetch("/administrator/index.php?option=com_chirp&task=controlpanels.saveConfig",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":"<?php echo Session::getFormToken(); ?>"},body:JSON.stringify(o)});"string"==typeof await c.text()&&setTimeout((()=>{dialog.close()}),1e3)};const chirpTabs=document.querySelectorAll(".chirp_tab"),chirpTabsParent=document.querySelector(".chirp_tabs");function showScreen(e){document.querySelectorAll(".chirp_tab_content").forEach((e=>e.classList.remove("active")));document.getElementById(`chirp_screen${e+1}`).classList.add("active")}chirpTabsParent.addEventListener("click",(e=>{const t=Array.from(chirpTabsParent.children);t.forEach((e=>e.classList.remove("active"))),e.target.classList.add("active"),showScreen(t.indexOf(e.target))}));